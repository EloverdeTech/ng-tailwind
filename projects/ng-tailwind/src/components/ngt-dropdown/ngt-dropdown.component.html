<button type="button" (click)="toggleMenuOnClick()" *ngIf="isOpen && !openOnHover" tabindex="-1"
    class="fixed z-10 inset-0 h-full w-full bg-black opacity-0 cursor-default"></button>

<section class='flex max-w-xs'>
    <div class="sm:relative">
        <!-- Label -->
        <div class="flex relative focus:outline-none cursor-pointer" (mouseenter)="openMenuOnTouch(menu, subMenu)"
            (click)="toggleMenuOnClick()" #menu>
            <p *ngIf="label" class="hidden self-center sm:block {{ labelClass }}">{{ label }}</p>

            <i *ngIf="icon && !imageIcon" class="{{ icon }} {{ iconClass }}"></i>

            <img *ngIf="imageIcon && !icon" [src]="imageIcon" class="rounded-full w-10 h-10">

            <div *ngIf="badge"
                class="absolute text-white top-0 right-0 -mt-2 -mr-2 px-2 bg-red-400 text-xs rounded-full">
                {{ badge }}
            </div>
        </div>

        <!-- Dropdown -->
        <div (mouseenter)="openMenuOnTouch(menu, subMenu)"
            class="{{ reversePosition ? 'mb-12 bottom-0' : 'mt-4 right-0' }} sub-menu sm:mr-0 mr-3 shadow-lg max-w-xs absolute z-10 bg-white rounded-lg"
            [class.hidden]='!isOpen' #subMenu [@openClose]="isOpen ? 'open' : 'closed'">

            <!-- Arrow -->
            <div *ngIf="withArrow"
                class="hidden sm:inline-block  absolute right-0 top-0 -mt-8 mr-16 text-4xl text-gray-700">
                <i class='fas fa-caret-up'></i>
            </div>

            <!-- Header -->
            <div *ngIf="withHeader" class="right-0 px-4 py-4 rounded-lg rounded-b-none border-b leading-normal"
                [ngStyle]="{'background-image': headerBg, 'background-size': 'cover'}">
                <ng-content select="[header]"></ng-content>
            </div>

            <!-- Body -->
            <ng-content select='[body]'></ng-content>

            <!-- Footer -->
            <div *ngIf='withFooter'>
                <div class="clearfix px-6 py-3">
                    <div class="float-left">
                        <ng-content select="[footer]"></ng-content>
                    </div>
                    <div class="float-left">
                        <ng-content select="[footer-left]"></ng-content>
                    </div>
                    <div class="float-right">
                        <ng-content select="[footer-right]"></ng-content>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
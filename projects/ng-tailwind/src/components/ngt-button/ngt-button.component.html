<ng-template #content>
    <ng-content></ng-content>
</ng-template>

<div class="h-full w-full" (click)='onClick($event)'>
    <ng-container *ngIf='!link'>
        <button [ngClass]="{ 'disabled-button': isDisabled, 'loading-button': loading }" [disabled]="isDisabled"
            [type]="(loading || isDisabled || noSubmit) ? 'button' : 'submit'"
            class="flex justify-center items-center h-full w-full focus:outline-none rounded cursor-pointer {{ ngtStyle.compile(['color.bg', 'color.text', 'color.border', 'px', 'py', 'border']) }}">
            <ng-container *ngTemplateOutlet="content"></ng-container>

            <span *ngIf="loading" class="ml-1">
                <svg class="fill-current self-center flex ngt-rotate-center-infinity" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20" style="width: 20px; height: 20px;">
                    <path fill="#FFFFFF"
                        d="M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z" />
                </svg>
            </span>
        </button>
    </ng-container>

    <ng-container *ngIf='link'>
        <a [routerLink]='href ? href : null' [ngClass]="{ 'disabled-button': isDisabled, 'loading-button': loading }"
            class="flex justify-center items-center h-full w-full focus:outline-none rounded cursor-pointer {{ ngtStyle.compile(['color.bg', 'color.text', 'color.border', 'px', 'py', 'border']) }}">
            <span class="w-full">
                <ng-container *ngTemplateOutlet="content"></ng-container>
            </span>

            <span *ngIf="loading" class="ml-1">
                <svg class="fill-current self-center flex ngt-rotate-center-infinity" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20" width="20" height="20" style="width: 20px; height: 20px;">
                    <path fill="#FFFFFF"
                        d="M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z" />
                </svg>
            </span>
        </a>
    </ng-container>
</div>